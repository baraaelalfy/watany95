<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>اليوم الوطني 95</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap');
    body {
      font-family: 'Tajawal', sans-serif;
      background-color: #16a34a;
      color: #fff;
      text-align: center;
    }
    .modal-overlay {
      position: fixed;
      inset: 0;
      background-color: rgba(0,0,0,0.7);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 50;
      visibility: hidden;
      opacity: 0;
      transition: visibility 0s, opacity 0.3s ease;
    }
    .modal-overlay.active {
      visibility: visible;
      opacity: 1;
    }
    .modal-content {
      background: #fff;
      color: #000;
      padding: 2rem;
      border-radius: 1rem;
      max-width: 600px;
      text-align: center;
      position: relative;
      font-size: 20px;
    }
    .modal-content.green-bg { background: #16a34a; color: #fff; }
    .modal-close { position: absolute; top: 1rem; right: 1rem; font-size: 2rem; font-weight: bold; cursor: pointer; }
    .modal-content.green-bg .modal-close { color: #fff; }
    input { outline: none; }
  </style>
</head>
<body>

  <!-- Header -->
  <header class="flex items-center justify-between px-6 py-4 bg-green-800 shadow-lg">
    <img src="https://upload.wikimedia.org/wikipedia/commons/0/0d/Flag_of_Saudi_Arabia.svg"
         alt="علم السعودية" class="w-24 h-16 md:w-32 md:h-20 rounded shadow-lg">
    <h1 class="text-4xl md:text-6xl font-bold">اليوم الوطني 95</h1>
    <img src="https://upload.wikimedia.org/wikipedia/commons/0/0d/Flag_of_Saudi_Arabia.svg"
         alt="علم السعودية" class="w-24 h-16 md:w-32 md:h-20 rounded shadow-lg">
  </header>

  <!-- Buttons -->
  <div class="flex flex-col md:flex-row justify-center items-center gap-6 mt-12">
    <button id="whatIsButton" class="bg-white text-green-700 font-bold py-4 px-10 text-xl rounded-full shadow-lg hover:bg-green-100 transition">
      ما هو اليوم الوطني
    </button>
    <button id="whenIsButton" class="bg-white text-green-700 font-bold py-4 px-10 text-xl rounded-full shadow-lg hover:bg-green-100 transition">
      متى اليوم الوطني 95
    </button>
  </div>

  <!-- Flag كبير -->
  <div class="flex justify-center mt-12">
    <img src="https://upload.wikimedia.org/wikipedia/commons/0/0d/Flag_of_Saudi_Arabia.svg"
         alt="علم السعودية" class="w-3/4 md:w-1/2 rounded-xl shadow-2xl">
  </div>

  <!-- Form -->
  <div class="bg-white p-8 mt-16 rounded-xl shadow-2xl text-black w-11/12 md:w-2/3 mx-auto">
    <h2 class="text-3xl font-bold text-green-700 mb-6">شاركنا احتفالك</h2>
    <input type="text" id="studentName" placeholder="اسم الطالب" class="w-full p-3 border rounded-lg mb-3">
    <input type="text" id="studentClass" placeholder="الفصل" class="w-full p-3 border rounded-lg mb-3">
    <input type="text" id="studentSection" placeholder="الشعبة" class="w-full p-3 border rounded-lg mb-3">
    <button id="addBtn" class="w-full bg-green-600 text-white text-xl font-bold py-3 rounded-full shadow-lg hover:bg-green-700 transition">إضافة</button>
  </div>

  <!-- Entries -->
  <div class="mt-12 w-11/12 md:w-2/3 mx-auto">
    <h2 class="text-3xl font-bold text-center mb-6">مشاركات الطلاب</h2>
    <div id="entriesList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <p class="text-center text-white">لا توجد مشاركات حتى الآن. كن أول من يشارك!</p>
    </div>
  </div>

  <!-- Modals -->
<div id="whatModal" class="modal-overlay">
    <div class="modal-content text-lg">
        <span class="modal-close cursor-pointer text-gray-400 hover:text-gray-600">&times;</span>
        <h3 class="text-3xl font-bold mb-4">ما هو اليوم الوطني؟</h3>
        <p class="text-lg leading-relaxed">
            اليوم الوطني السعودي هو يوم توحيد المملكة العربية السعودية، ويصادف يوم 23 سبتمبر من كل عام. في هذا اليوم، تم توحيد مناطق المملكة تحت راية واحدة على يد الملك المؤسس عبدالعزيز بن عبدالرحمن آل سعود رحمه الله.
        </p>
    </div>
</div>
<!-- متى اليوم الوطني 95 -->
<div id="whenModal" class="modal-overlay">
    <div class="modal-content green-bg text-lg">
        <span class="modal-close cursor-pointer text-white hover:text-gray-200">&times;</span>
        <h3 class="text-3xl font-bold mb-4">متى اليوم الوطني 95؟</h3>
        <p class="text-4xl font-extrabold my-6">
            23 سبتمبر
        </p>
        <p class="text-lg leading-relaxed">
            نحتفل باليوم الوطني السعودي في الثالث والعشرين من شهر سبتمبر من كل عام.
        </p>
    </div>
</div>

  <!-- Footer -->
  <footer class="mt-16 p-4 bg-white text-gray-800 text-center rounded-t-xl shadow-inner">
    <p class="font-bold text-lg">المنشئ الطالب / براء الألفي من مدرسة العباس بن عبد المطلب</p>
  </footer>

  <!-- Firebase + JS -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
    import { getDatabase, ref, push, set, onValue } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyAJCZVoeBRIt_zKcWQ3th51DpNVc4p4_LU",
      authDomain: "watany95-43aa4.firebaseapp.com",
      databaseURL: "https://watany95-43aa4-default-rtdb.firebaseio.com",
      projectId: "watany95-43aa4",
      storageBucket: "watany95-43aa4.appspot.com",
      messagingSenderId: "978450227359",
      appId: "1:978450227359:web:afbcb83c960d241b5f02aa"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    const entriesListDiv = document.getElementById('entriesList');
    const addBtn = document.getElementById('addBtn');

    addBtn.addEventListener('click', () => {
      const name = document.getElementById('studentName').value;
      const studentClass = document.getElementById('studentClass').value;
      const studentSection = document.getElementById('studentSection').value;

      if(name && studentClass && studentSection){
        const newRef = push(ref(db, 'students'));
        set(newRef, { name, studentClass, studentSection });

        document.getElementById('studentName').value = '';
        document.getElementById('studentClass').value = '';
        document.getElementById('studentSection').value = '';
      } else {
        alert('يرجى تعبئة جميع الحقول');
      }
    });

    onValue(ref(db, 'students'), (snapshot) => {
      const data = snapshot.val();
      entriesListDiv.innerHTML = '';
      if(data){
        Object.values(data).forEach(entry => {
          const div = document.createElement('div');
          div.className = 'bg-white text-black p-6 rounded-xl shadow-lg';
          div.innerHTML = `
            <p class="font-bold text-xl">${entry.name}</p>
            <p><strong>الفصل:</strong> ${entry.studentClass}</p>
            <p><strong>الشعبة:</strong> ${entry.studentSection}</p>
          `;
          entriesListDiv.appendChild(div);
        });
      } else {
        entriesListDiv.innerHTML = '<p class="text-center text-white">لا توجد مشاركات حتى الآن. كن أول من يشارك!</p>';
      }
    });

    // Modals
    const whatModal = document.getElementById('whatModal');
    const whenModal = document.getElementById('whenModal');

    document.getElementById('whatIsButton').addEventListener('click', () => whatModal.classList.add('active'));
    document.getElementById('whenIsButton').addEventListener('click', () => whenModal.classList.add('active'));

    document.querySelectorAll('.modal-close').forEach(btn => {
      btn.addEventListener('click', () => btn.closest('.modal-overlay').classList.remove('active'));
    });

    document.querySelectorAll('.modal-overlay').forEach(modal => {
      modal.addEventListener('click', e => { if(e.target === modal) modal.classList.remove('active'); });
    });
  </script>
</body>
</html>
